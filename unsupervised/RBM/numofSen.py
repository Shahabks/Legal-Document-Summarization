# coding: utf-8

from __future__ import print_function
import re
from nltk.corpus import stopwords
import nltk
import collections
import math
from sklearn.feature_extraction.text import TfidfVectorizer
import entity2
import numpy as np
import rbm
import math
from operator import itemgetter
import pandas as pd
import askHuman


stemmer = nltk.stem.porter.PorterStemmer()
WORD = re.compile(r'\w+')


caps = "([A-Z])"
prefixes = "(Mr|St|Mrs|Ms|Dr)[.]"
suffixes = "(Inc|Ltd|Jr|Sr|Co)"
starters = "(Mr|Mrs|Ms|Dr|He\s|She\s|It\s|They\s|Their\s|Our\s|We\s|But\s|However\s|That\s|This\s|Wherever)"
acronyms = "([A-Z][.][A-Z][.](?:[A-Z][.])?)"
websites = "[.](com|net|org|io|gov)"

stop = set(stopwords.words('english'))

def split_into_sentences(text):
    text = " " + text + "  "
    text = text.replace("\n"," ")
    text = re.sub(prefixes,"\\1<prd>",text)
    text = re.sub(websites,"<prd>\\1",text)
    if "Ph.D" in text: text = text.replace("Ph.D.","Ph<prd>D<prd>")
    text = re.sub("\s" + caps + "[.] "," \\1<prd> ",text)
    text = re.sub(acronyms+" "+starters,"\\1<stop> \\2",text)
    text = re.sub(caps + "[.]" + caps + "[.]" + caps + "[.]","\\1<prd>\\2<prd>\\3<prd>",text)
    text = re.sub(caps + "[.]" + caps + "[.]","\\1<prd>\\2<prd>",text)
    text = re.sub(" "+suffixes+"[.] "+starters," \\1<stop> \\2",text)
    text = re.sub(" "+suffixes+"[.]"," \\1<prd>",text)
    text = re.sub(" " + caps + "[.]"," \\1<prd>",text)
    
    if "\"" in text: text = text.replace(".\"","\".")
    if "!" in text: text = text.replace("!\"","\"!")
    if "?" in text: text = text.replace("?\"","\"?")
    text = text.replace(".",".<stop>")
    text = text.replace("?","?<stop>")
    text = text.replace("!","!<stop>")
    text = text.replace("<prd>",".")
    sentences = text.split("<stop>")
    sentences = sentences[:-1]
    sentences = [s.strip() for s in sentences]
    return sentences

#text = "Terrorism is the process unfair and violent activities performed by the group of trained people called terrorists. There is only one boss who gives strict orders to the group to perform particular activity in any ways. They want money, power and publicity for the fulfilment of their unfair ideas. In such conditions, it is media which really helps to spread the news about terrorism in the society of any nation. Group of terrorist also take support of the media by especially contacting them to let them know about their plan, ideas and goals.Various groups of the terrorists are named according to their aims and objectives. Acts of terrorism affects the human mind to a great extent and makes people so fear that they fear to go outside from their own home. They think that there is terror everywhere outside the home in the crowd like railway station, temple, social event, national event and so many. Terrorists want to spread terror within specific area of high population in order to publicize for their act as well as rule on people’s mind. Some recent act of terrorism are 9/11 attacks on the U.S. and 26/11 attack in India. It has affected the financial status and humanity to a great extent.In order to reduce the terror and effect of terrorism from the nation, a tight security arrangement is done on the order of government. All the places which are crowded because of any reasons like social programmes, national events like Republic day, Independence Day, temple and etc. Each and every person has to follow the rules of security arrangement and has to pass from the automatic machine of full body scanner. Using such machines, security get help in detecting the presence of terrorists. Even after arrangement of such tight security, we are still unable to make it effective against the terrorism.Our country is spending lots of money every year to fight against the terrorism as well as remove the terrorist group. However, it is still growing like a disease as new terrorists are getting trained on daily basis. They are very common people like us but they are trained to complete some unfair act and forced to fight against their one society, family and country. They are so trained that they never compromise their life, they are always ready to finish their life while fighting. As an Indian citizen, we all are highly responsible to stop the terrorism and it can be stopped only when we never come into the greedy talk of some bad and frustrated people."
#text = "Corruption free government is not a necessary condition for rapid economic development. If the corporate and institutions work and uncertainty is checked, progress is possible. -S. SwaminathanCorruption in any form is treated as an incurable disease, a cause of many social and economical evils in the society and it damages the moral and ethical fibres of the civilization. Indisputably, it is correct that corruption breeds many evils in the society and once corruption starts taking place, slowly and gradually whole country passes through its net and it becomes after sometime an incurable disease. From the point of view of economic growth, there seems to be no clear cut correlation between corruption and the economic growth of a country. There may be presence of some social maladies like inequality of income among the people, moral degradation of people due to the prevalence of corruption, but the parameters of economic growth which are taken on percentage or an average basis are entirely different can find several countries having corrupt regime but yielding excellent economic results and other countries with clean regime showing very poor results in terms of economic prosperity and growth.Transparency International publishes every year lists ranking corruption in various countries. It has just come up with a list of the 10 most corrupt rulers; According to reasonably authoritative local estimates,\" Numerous Uno is Indonesia's 'Suharto' who is estimated to have skimmed off $15-35 billion. He is followed by the Philippines Marcos ($ 5-10 billion), Zaire\'s Mobutu ($ 5 billion), Nigeria\'s Abacha ($ 2-5 billion), Serbia\'s Milosevic ($ 1 billion), Haiti\'s Duvalier ($ 300-800 million), Peru\'s Fujimori ($ 600 million), Ukraine\'s Lazarenko ($ 114-200 million), Nicaragua’s Alemai ($ 100 million) and the Philippines Estrada ($ 78-80 million).This list is neither complete nor exhaustive. Saddam Hussein and his cronies might have skimmed more than some of the above rulers.Now the point of discussion is: Why do some corrupt regimes do very well and others badly?If we take the case of Indonesia, we see the income of Indonesian’s quadruple to $1000 per capita under the regime of Suharto. Indonesia’s economy during 1980-1990, showed miraculous uptrend, graduating from a mere commodity producer it became a big exporter to manufacturers. During this golden period under Suharto poverty, infect mortality and fertility plummeted while the literacy soared high. The era ended in ruins during the Asian Financial Crisis, but that event upended regimes from Korea to Bangkok. The achievements during the period had remained impressive and remarkable.On the other hand, Mobutu left Zaire poorer and in more desperate condition than ever, like Nigeria and Haiti, where too, no progress was made. Marcos and Fujimori tried to rebuild the collapsing economies amidst lot of praise for their efforts, but the prevailing corruption and maladministration eroded the initial gains seriously.If we look at transparency international\'s list of 133 countries ranked. In order of corruption, we will find that the well-off western countries all figure in the top of 35. Singapore, the most successful developing country, ranks at 5, Botswana Africa\'s star performer, ranks at 30, the Scandinavians are generally regarded the most honest (Finland is No.1) and the USA comes a bit lower at 18. Paradoxically, some of the poorer countries are also among the most corrupt and some of the less corrupt are progressing.Again it is difficult to find any correlation between corruption and economic growth. Some of the fastest growing countries in the world are also in the bottom half of the corruption list. China stands at 66, India at 83 (alongside Malawi), Russia at 86 (alongside Mozambique) Vietnam at 100 (alongside Guatemala and Kazakhstan).Corruption in long run may destroy the whole society morally, ethically and economically. May be in the long run, a country needs clean government to reach the top of the income ladder, may be rapid income growth by itself induces better accountability and governance, may be corruption in long run degenerates the society into several misfortunes and evils. But one fact still stands out: Clean government is not a necessary condition for rapid economic growth.Bangladesh stands at the last of list of 133, yet it has been growing at five percent annually for a decade. Italy, the most corrupt country in Western Europe, has been one of the fastest growing economies. Corruption is often a good predictor of eventual economic crisis, yet when Argentina (92) went bust, the ensuing financial crisis also consumed its neighbors Uruguay which ranks at 33.The puzzle to ponder is why does corruption coexist with both good and bad economic performance? Why has India over the decades grown more slowly than Indonesia despite less corruption?A survey conducted for World Development Report some years ago, find one answer. Businessmen in surveyed countries said that the main problem with corruption was that it increases risks and uncertainties. The risks declined dramatically, if corruption produced reliable outcome (as in Indonesia). If all players have to pay 10 percent and could sure of getting their licenses (Madam Suharto was called 10%) entrepreneurs could treat this as just one more tax, factor it into their calculations of profit and so could invest with confidence of sure gain. Most businessman fear the arbitrariness where some entrepreneurs pay huge sums in vain, while others pay little or nothing and succeed. This happens when there is much discretion in decision making. It also happens when some decision makers are corrupt and others are not. India is such a country where entrepreneurs are not sure of the things, some decision makers are corrupt and others are honest. One more crucial things about India is the rule of nepotism, rule of criminals and blackmailing through other modes even after paying demanded money. Arbitrariness in decisions, unreason ability of demands makes the business wary of dealing in such cases. There is a saying in India that we have honest politicians, who take money and do the needful, dishonest politicians who take money and do not deliver the goods and madmen who do not take money at all. In this lexicon, Suharto was both honest and sane and delivered the goods. The worst situation is when the ruler extorts without giving anything in return, this seems to be a case in Zaire and Nigeria. Finally, the quality of institutions seems to be the most important factor for the growth of a country. If the institutions work even moderately well, progress is possible even if money is skimmed off at the top. But if the institutions are incapable of enforcing any rights, corruption will hasten economic collapse. So far Indian economy is concerned the slow progress is the result of lack of decision making at higher levels. Many politicians who takes money but could not enforce their will because of powerful lobby of bureaucrats at many places and in a democracy like India, voice of media, voice of opposition could suppress the wish of the leader. Ours is a peculiar democracy where politicians are corrupt but not authoritative, ours is a multi-party system where leg pulling for no cause, accusation without any evidence is common. Instability in political system is also responsible for the slow economic progress where the Prime Minister is always busy in satiating the coalition partners to keep attached. So far quality of institutions are concerned we are having well matured corporate and the fast development reflected during the last years, has brought stability in the country and good relations with the neighboring nations. India’s economic growth on an average 6 percent GDP despite considerable corruption is because of the stability and the liberalization measures taken by the present government, gradual privatization of various sector, reducing bureaucratic intervention in routine work and other measures adopted by the government. It is important to note that growth in some States, where institutions are strong and decision making is least arbitrary is faster than other States. In brief, it can well be concluded that corruption and economic growth has no clear correlation. Strong institutions, political stability, fast and reasonability in decision taking are some of the requirements for fast economic growth."
#text = "Uncertainty over \"Brexit\" deepened Thursday when a court ruled that Britain\'s government can\'t trigger the process of withdrawal from the European Union without approval from parliament — a decision that could scupper the entire process.In a major blow for Prime Minister Theresa May, the High Court in London said her government needs the consent of lawmakers before launching Britain\'s withdrawal from the block . It opens the possibility that members of the House of Commons could vote against Brexit, defying British voters who chose to quit the EU by 52 percent to 48 percent in a June 23 referendum.May has repeatedly promised to respect the outcome of the referendum and indicated she would trigger Article 50 — the two-year process of negotiations toward EU withdrawal — by the end of March 2017.However, her government will now appeal Thursday's ruling, which could leave her Brexit timetable in tatters.British prime ministers can use the historic power of royal prerogative to make decisions on foreign affairs, such as withdrawal from treaties, without a parliamentary vote.Campaigners filed a court challenge, arguing that leaving the EU would remove rights of employment and free movement — a change serious enough to require the approval of parliament.Three senior judges ruled [PDF link here] that \"the government does not have the power under the Crown's prerogative\" to start EU exit talks.May's government has a working majority in the House of Commons but the Brexit referendum campaign was cross-party and members of her party could join opposition lawmakers and soften or even veto the plans.While British voters chose Brexit in the referendum, the result was a surprise for the government which had campaigned to remain in the EU and did not draw up contingency plans for what Brexit might entail.No details were presented about the details of Britain's withdrawal — whether it would quit the bloc but remain inside a single market, for example — and many lawmakers believe the referendum result alone is not enough to allow Brexit on any terms.May says those terms won't be known until the negotiation process begins. She has only repeated the mantra that "Brexit means Brexit" — without elaborating — leaving many voters, industry leaders and major employers in the dark about what a post-EU Britain would look like.The confusion has done little to calm markets, which have seen the British pound tumble against the dollar and the euro. The pound has lost almost one fifth its value against the dollar since June. Minutes after Thursday's decision, the pound rose back up by 1.1 percent to $1.2430 as traders reacted to the news, Reuters reported.The judges said their ruling was purely a question of law, not politics. \"The court is not concerned with and does not express any view about the merits of leaving the European Union: that is a political issue,\" the judgement said.\"We will appeal this judgment,\" the U.K. government said in a statement. It said Brexit was endorsed \"in a referendum approved by an Act of Parliament … and the government is determined to respect the result of the referendum.\"Financial entrepreneur Gina Miller, one of the leading claimants, said the case was \"not an attempt to stop Brexit — just to ensure that parliament is sovereign.\"It was the second embarrassment for May in less than 24 hours. At a dinner attended by journalists late Wednesday, Foreign Secretary Boris Johnson told his audience: \"Brexit means Brexit and we are going to make a Titanic success of it.\"LONDON — Uncertainty over \"Brexit\" deepened Thursday when a court ruled that Britain's government can't trigger the process of withdrawal from the European Union without approval from parliament — a decision that could scupper the entire process.Brexit campaigner Nigel Farage told reporters he was angered at the decision.\"I worry that a betrayal may be near at hand … I now fear that every attempt will be made to block or delay the triggering of Article 50,\" he said. \"If this is so, they have no idea of the level of public anger they will provoke.\"However, conservative commentator Mark Wallace said he doubted lawmakers would veto the whole Brexit process.\"Anyone who thinks MPs will reject Article 50 … deluding themselves,\" he wrote on website Conservative Home. \"The majority of the parliamentary Conservative Party now wants to get on with implementing the outcome of the referendum, regardless of which side they were on in the campaign. A pleasantly surprising number of Labour MPs have also taken on board the message from their Leave-voting constituencies. Having gone through the unpleasant experience of being at loggerheads with their voters on the doorstep, they rightly don't want to defy them now they have spoken.\""

file = open("random", 'r')
text = file.read()
sentences = split_into_sentences(text)
text_len = len(sentences)
print(text_len)